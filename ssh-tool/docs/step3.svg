<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 800">
    <!-- Background -->
    <rect width="1000" height="800" fill="#f8f9fa"/>
    
    <!-- Title -->
    <text x="500" y="40" font-family="Arial" font-size="24" fill="#2c3e50" text-anchor="middle" font-weight="bold">
        Oasis Database Upgrade - Step 3 (Pat) Process Flow
    </text>

    <!-- Start -->
    <circle cx="500" cy="80" r="30" fill="#4CAF50" />
    <text x="500" y="85" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Start</text>

    <!-- 1. Initial Compilation -->
    <rect x="200" y="130" width="600" height="100" rx="10" fill="#eee" opacity="0.5"/>
    <text x="220" y="150" font-family="Arial" font-size="14" fill="#2c3e50" font-weight="bold">1. Initial Compilation (3 cycles)</text>
    
    <rect x="220" y="160" width="270" height="50" rx="5" fill="#3498db"/>
    <text x="355" y="190" font-family="Arial" font-size="12" fill="white" text-anchor="middle">RE_Bld_cmpUpg.SQL</text>
    
    <rect x="510" y="160" width="270" height="50" rx="5" fill="#3498db"/>
    <text x="645" y="190" font-family="Arial" font-size="12" fill="white" text-anchor="middle">cmpx.SQL</text>

    <!-- 2. Environment Setup -->
    <rect x="200" y="250" width="600" height="100" rx="10" fill="#eee" opacity="0.5"/>
    <text x="220" y="270" font-family="Arial" font-size="14" fill="#2c3e50" font-weight="bold">2. Environment Setup</text>
    
    <rect x="220" y="280" width="180" height="50" rx="5" fill="#e67e22"/>
    <text x="310" y="310" font-family="Arial" font-size="12" fill="white" text-anchor="middle">RE_Bld_Init.SQL</text>
    
    <rect x="420" y="280" width="180" height="50" rx="5" fill="#e67e22"/>
    <text x="510" y="310" font-family="Arial" font-size="12" fill="white" text-anchor="middle">RE_Bld_Time_Define.SQL</text>
    
    <rect x="620" y="280" width="180" height="50" rx="5" fill="#e67e22"/>
    <text x="710" y="310" font-family="Arial" font-size="12" fill="white" text-anchor="middle">RE_Bld_Log_Step.SQL</text>

    <!-- 3. Core Setup -->
    <rect x="200" y="370" width="600" height="100" rx="10" fill="#eee" opacity="0.5"/>
    <text x="220" y="390" font-family="Arial" font-size="14" fill="#2c3e50" font-weight="bold">3. Core Setup</text>
    
    <rect x="220" y="400" width="280" height="50" rx="5" fill="#9b59b6"/>
    <text x="360" y="430" font-family="Arial" font-size="12" fill="white" text-anchor="middle">RE_Bld_Check_Aliens_Init.SQL</text>
    
    <rect x="520" y="400" width="280" height="50" rx="5" fill="#9b59b6"/>
    <text x="660" y="430" font-family="Arial" font-size="12" fill="white" text-anchor="middle">RE_Bld_Config_Prop_Off.SQL</text>

    <!-- 4. Pattern Scripts -->
    <rect x="200" y="490" width="600" height="100" rx="10" fill="#eee" opacity="0.5"/>
    <text x="220" y="510" font-family="Arial" font-size="14" fill="#2c3e50" font-weight="bold">4. Pattern Scripts</text>
    
    <rect x="220" y="520" width="280" height="50" rx="5" fill="#e74c3c"/>
    <text x="360" y="550" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Build_Base_Pat.SQL</text>
    
    <rect x="520" y="520" width="280" height="50" rx="5" fill="#e74c3c"/>
    <text x="660" y="550" font-family="Arial" font-size="12" fill="white" text-anchor="middle">Build_Cust_Pat.SQL</text>

    <!-- 5. Configuration & Finalization -->
    <rect x="200" y="610" width="600" height="100" rx="10" fill="#eee" opacity="0.5"/>
    <text x="220" y="630" font-family="Arial" font-size="14" fill="#2c3e50" font-weight="bold">5. Configuration & Finalization</text>
    
    <rect x="220" y="640" width="180" height="50" rx="5" fill="#16a085"/>
    <text x="310" y="670" font-family="Arial" font-size="12" fill="white" text-anchor="middle">RE_Bld_CFG_Triggers.sql</text>
    
    <rect x="420" y="640" width="180" height="50" rx="5" fill="#16a085"/>
    <text x="510" y="670" font-family="Arial" font-size="12" fill="white" text-anchor="middle">RE_Bld_Build_Applied.SQL</text>
    
    <rect x="620" y="640" width="180" height="50" rx="5" fill="#16a085"/>
    <text x="710" y="670" font-family="Arial" font-size="12" fill="white" text-anchor="middle">RE_Bld_Compile.SQL</text>

    <!-- End -->
    <circle cx="500" cy="750" r="30" fill="#c0392b"/>
    <text x="500" y="755" font-family="Arial" font-size="12" fill="white" text-anchor="middle">End</text>

    <!-- Connectors -->
    <g stroke="#95a5a6" stroke-width="2" fill="none">
        <path d="M500,110 L500,130" marker-end="url(#arrowhead)"/>
        <path d="M500,230 L500,250" marker-end="url(#arrowhead)"/>
        <path d="M500,350 L500,370" marker-end="url(#arrowhead)"/>
        <path d="M500,470 L500,490" marker-end="url(#arrowhead)"/>
        <path d="M500,590 L500,610" marker-end="url(#arrowhead)"/>
        <path d="M500,710 L500,720" marker-end="url(#arrowhead)"/>
    </g>

    <!-- Arrow marker definition -->
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#95a5a6"/>
        </marker>
    </defs>

    <!-- Legend -->
    <g transform="translate(20, 20)">
        <rect x="0" y="0" width="160" height="150" rx="5" fill="white" stroke="#95a5a6"/>
        <text x="10" y="20" font-family="Arial" font-size="12" fill="#2c3e50" font-weight="bold">Legend</text>
        
        <rect x="10" y="30" width="20" height="15" fill="#3498db"/>
        <text x="40" y="42" font-family="Arial" font-size="12" fill="#2c3e50">Compilation</text>
        
        <rect x="10" y="55" width="20" height="15" fill="#e67e22"/>
        <text x="40" y="67" font-family="Arial" font-size="12" fill="#2c3e50">Environment Setup</text>
        
        <rect x="10" y="80" width="20" height="15" fill="#9b59b6"/>
        <text x="40" y="92" font-family="Arial" font-size="12" fill="#2c3e50">Core Setup</text>
        
        <rect x="10" y="105" width="20" height="15" fill="#e74c3c"/>
        <text x="40" y="117" font-family="Arial" font-size="12" fill="#2c3e50">Pattern Scripts</text>

        <rect x="10" y="130" width="20" height="15" fill="#16a085"/>
        <text x="40" y="142" font-family="Arial" font-size="12" fill="#2c3e50">Configuration</text>
    </g>
</svg>